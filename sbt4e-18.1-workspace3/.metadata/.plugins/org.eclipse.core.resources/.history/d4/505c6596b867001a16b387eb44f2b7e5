#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "io.h"
#include <unistd.h>
#include "system.h"
#include "alt_types.h"
//#include "altera_avalon_pio_regs.h"
//#include <io.h>

#define ONCHIP_MEMORY2_0_BASE 0x10004000



int main()
{
	usleep(15000);
	// Input buffer:
	char prompt;
	/* Event loop never exits. */
	while (1){
	// display prompt:
	printf("\n Y - write 3, N - write 1, R - write 0, o - read \n");
	printf("\n Enter Command: \n");
	prompt=getchar();
	if (prompt == 'Y')
	{
		  IOWR(0x10004000,1,0x3);
		  usleep(4150);
	}
	else if (prompt == 'N')
	{
		  IOWR(0x10004000,0,0x1);
		  usleep(4150);
	}
	else if (prompt == 'F')
	{
		  IOWR_32DIRECT(0x10004000,8,0x9);
		  usleep(4150);
	}
	else if (prompt == 'G')
	{
		  IOWR_8DIRECT(0x10004000,4,0x7);
		  usleep(4150);
	}
	else if (prompt == 'H')
	{
		  IOWR_8DIRECT(0x10004000,5,0x6);
		  usleep(4150);
	}
	else if (prompt == 'J')
	{
		  IOWR_8DIRECT(0x10004000,6,0x5);
		  usleep(4150);
	}
	else if (prompt == 'R')
	{
		  IOWR(0x10004000,1,0x0);
		  usleep(4150);
	}
	else if (prompt == 'o')
	{
		printf("\n Read:");
		printf("%d",IORD(0x10004000, 1));
		  usleep(4150);
	}
	else if (prompt == 'p')
	{
		printf("\n Read:");
		printf("%d",IORD_32DIRECT(0x10004000, 8));
		  usleep(4150);
	}
	else if (prompt == 'i')
	{
		printf("\n Read:");
		printf("%d",IORD_32DIRECT(0x10004000, 9));
		  usleep(4150);
	}
	usleep(35000);
	}
	return 0; //never reach here.
}
